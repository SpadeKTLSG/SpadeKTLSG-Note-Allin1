--项目设计以及设计思维

‍

‍

‍

### Header

实际生产环境问题 + 软件工程思维

‍

‍

‍

# 概念

‍

‍

## 知识点

‍

### 软件三原则

不仅适用于面向对象的设计，也适用于面向过程的程序设计；不仅适用于类的设计，也适用于模块、子系统的设计. 就连在项目架构运维部署中也适用于这一套简单的法则.

‍

#### DRY - Don’t Repeat Yourself

​`A basic strategy for reducing complexity to managable units is to divide a system into pieces.`​

**不要总是用相同代码解决相同问题**. 尽量在项目中减少重复的代码行，重复的方法，重复的模块.

DRY 意味着系统内的每一个部件都应该是唯一的并且是不模糊的. 我们可以通过应用单一职责接口隔离等原则尽量拆分系统，模块，类，方法·. 使其每一个部件都是职责明确的并且可重用的.

‍

#### KISS - Keep It Simple & Stupid

​`The simplest explanation tends to be the right one.`​

**让代码简单直接**. 从小到几行代码的写法大到整个系统的架构我们都应该保持简单易懂. 高手高就高在可以将复杂的东西“简单”的实现出来.

‍

‍

#### YAGNI - You Ain’t Gonna Need It

​`Coding is about building things.`​

**适可而止**. 只有当你需要的时候才去添加额外的功能，不要过度设计<sup>（往往会延缓开发迭代的速度. ）</sup>.

‍

‍

### 软件架构模式

‍

#### MVP

‍

‍

#### MVVM

Model-View-ViewModel

‍

Model: 数据模型，特指前端中通过请求从后台获取的数据  
View: 视图，用于展示数据的页面，可以理解成我们的html+css搭建的页面，但是没有数据  
ViewModel: 数据绑定到视图，负责将数据（Model）通过JavaScript的DOM技术，将数据展示到视图（View）上

‍

‍

‍

### 企业系统架构层次

1. 客户层：考虑到系统及数据的安全需要明确的描述出内网办公用户以及外网办公用户，所有工作的客户端可以使用Web浏览器，也可以是Java编写的应用程序，甚至是移动设备.
2. 中间层：为客户访问提供服务，使用Java EE中的各种组件技术进行搭建，且各个容器之间允许互相调用.
3. 企业信息系统层（Enterprise Information Systems，EIS）：提供了一个统一的业务管理信息平台，将企业内部以及企业外部供需链上所有的资源与信息进行统一的管理.

‍

## 角色分工

‍

整个软件开发流程中涉及到的岗位角色，以及各个角色的职责分工.

|岗位/角色|对应阶段|职责/分工|
| ------------| ----------| --------------------------------------------|
|项目经理|全阶段|对整个项目负责，任务分配、把控进度|
|产品经理|需求分析|进行需求调研，输出需求调研文档、产品原型等|
|UI设计师|设计|根据产品原型输出界面效果图|
|架构师|设计|项目整体架构设计、技术选型等|
|开发工程师|编码|功能代码实现|
|测试工程师|测试|编写测试用例，输出测试报告|
|运维工程师|上线运维|软件环境搭建、项目上线|

但是在实际的项目中, 有一些项目组由于人员配置紧张, 可能并没有专门的架构师或测试人员, 这个时候可能需要有项目经理或者程序员兼任.

‍

‍

## 软件环境

**1). 开发环境(development)**

我们作为软件开发人员，在开发阶段使用的环境，就是开发环境，一般外部用户无法访问.

比如，我们在开发中使用的MySQL数据库和其他的一些常用软件，我们可以安装在本地， 也可以安装在一台专门的服务器中， 这些应用软件仅仅在软件开发过程中使用， 项目测试、上线时，我们不会使用这套环境了，这个环境就是开发环境.

**2). 测试环境(testing)**

当软件开发工程师，将项目的功能模块开发完毕，并且单元测试通过后，就需要将项目部署到测试服务器上，让测试人员对项目进行测试. 那这台测试服务器就是专门给测试人员使用的环境， 也就是测试环境，用于项目测试，一般外部用户无法访问.

**3). 生产环境(production)**

当项目开发完毕，并且由测试人员测试通过之后，就可以上线项目，将项目部署到线上环境，并正式对外提供服务，这个线上环境也称之为生产环境.

‍

‍

## 开发方式

‍

### 前后端混合开发

* 沟通成本高：后台人员发现前端有问题，需要找前端人员修改，前端修改成功，再交给后台人员使用
* 分工不明确：后台开发人员需要开发后台代码，也需要开发部分前端代码. 很难培养专业人才
* 不便管理：所有的代码都在一个工程中
* 不便维护和扩展：前端代码更新，和后台无关，但是需要整个工程包括后台一起重新打包部署.

‍

### 前后端分离开发

‍

前端页面需要数据，可以通过发送异步请求，从后台工程获取. 前后台统一指定一套规范,这就是**接口文档**

‍

‍

## **开发流程**

‍

### 功能开发

‍

1. 查看页面原型明确需求

    * 根据页面原型和需求，进行表结构设计、编写接口文档(已提供)
2. 阅读接口文档
3. 思路分析
4. 功能接口开发

    * 就是开发后台的业务功能，一个业务功能，我们称为一个接口
5. 功能接口测试

    * 功能开发完毕后，先通过Postman进行功能接口测试，测试通过后，再和前端进行联调测试
6. 前后端联调测试

    * 和前端开发人员开发好的前端工程一起测试

‍

### 项目开发

1. 需求分析
2. 查询接口定义
3. 前后台并行开发
4. 各自测试
5. 前后段联调

‍

#### 真实项目的敏捷开发

‍

[证明自己真的参与了真实项目的开发](https://www.cnblogs.com/JavaArchitect/p/17552660.html)

‍

真实项目的敏捷开发流程和常用的项目管理工具. 

学习项目一般是从零跑通一个项目，只要能从前端发请求看到预期的效果，这个项目就算成了，但真实的项目一般会采用敏捷开发模式，哪怕是有些公司的田园敏捷开发模式，一般也是采用“迭代”开发的流程. 

比如一个项目从开始做，到真实完成，假设需要半年，包含大概50个功能点，那么就会把这些功能点，均摊到6个开发周期，每个周期大概是一个月，这样每个月发布一次，把本月需要完成的功能点和本月修改掉的bug一起发布上线. 

具体的，比如一个月有4周，会在第一周的前半周，和产品方或客户方谈好需求，一般这是项目经理主导做的，谈好以后分配任务给诸多程序员，分配任务时一般用jira来记录，当然如果发现bug了，也会用[jira](https://www.zhihu.com/search?q=jira&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A3060121057%7D)来记录bug. 

开发前，一般会基于git的主分支（master或dev或current）上创建一个新分支，比如202210dev分支，诸多程序员在这个分支上开发，然后约定个开发结束时间，这样到了这个月的第三周结束后，这个开发分支上就包含了本次发布所需要的的代码，然后这个发布版本就会冻结住，冻结的意思是，发布的版本需要稳定，不能随便再向里面提交并合并代码，在此基础上测试人员就开始测试. 

一旦测试人员测出问题，项目经理会做个评估，如果不影响本次发布，就会在下个周期里修改掉，如果影响很大，那么需要走“解封”流程，解开本次已经冻结住的git分支，修改后再冻结住. 

这样到了本次[迭代周期](https://www.zhihu.com/search?q=%E8%BF%AD%E4%BB%A3%E5%91%A8%E6%9C%9F&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A3060121057%7D)的发布日，一般是业务量比较少的时间点，比如周末凌晨，运维人员会把从git上拉下待发布的分支，用maven或各种工具打成jar包，然后通过jenkins工具，或干脆手动复制粘贴，放到linux环境上，再用java -jar命令启动，启动后开发和测试人员发现没问题后，本次发布就算成功，然后再开始下个为期一个月的开发周期，这样一直到本项目全部完成. 

‍

‍

‍

‍

## 小要求

‍

### 任务取名

比较常见错误是直接写（我要）做什么事情. 这是错误的. 想象下项目组长每天看所有人的标题的时候能够看出来什么. 

要求的做法是

```java
【在X月X日提交YYY形式的交付物/完成YYY】
```

如果是一个 meta task，也就是说需要**分解**成不同的具体执行任务， 那么可以在标题的开头加上 [meta] 的字样. 

‍

‍

‍

‍

### 报告bugs

‍

1. **贴出error log**

    error log是最直观描述错误的材料，通常debug的过程都需要参考error log来进行，比如缺少安装某个库、多打了一个空格，error log可以直接给出大部分错误产生的原因，有利于其他人快速了解问题，给你修改建议.
2. **描述bug出现的过程**

    一些简单的问题往往会因为没有清晰的描述而变得难以琢磨，“电脑突然黑屏了，进不去系统”，这种问题抛给任何一个专家都是令人头疼的，详细描述bug产生的过程和你做的操作，“更新了显卡驱动，然后电脑突然黑屏了，进不去系统”，更仔细的会描述帮助问题定位更加精确，有时多几个文字就可以大幅减少处理问题需要的时间.
3. **提供bug的复现步骤**

    “能复现的bug都是好bug”，bug的复现步骤往往是判断bug属性的关键，如果bug能够复现，那么大家都可以参与到bug的解决中来，产生不同的思路和尝试，提出不同的解决方法，高效解决问题. （如果不能复现，那么这个bug对你来说是很危险的，请仔细查看有关说明和代码，必要时尝试不同机器. ）
4. **提供bug截图**

    无图无真相，请在报告bug时配上bug的截图或照片

‍

# 方法

‍

‍

### 零散建议

日复一日的坚持. 始终保持作为编程新人时的那种对新知识、新技术的渴望，不断地在实践中成长. 

‍

任何一个看似不起眼的地方都至关重要. 例如，变量命名、调用函数、命名CSS属性，哈希表及数组的选择，这些恭喜虽然看不起眼，但是他们都将对结果产生很大的影响. 

‍

看似重大的决定其实并没有想象的那么重要. 经验丰富的开发人员总是明白怎么去大事化小，怎么去避开一些开发人员经常陷入的大麻烦. 这些事情在某些程度上来说，颇具有些禅意. 

‍

使用正确的工具. 现在市面上存在这么多不同的库、工具和框架. 经验丰富的程序员们总能知道在面对不同的问题时应该选择什么工具. 

‍

代码本身不值钱. 如果需要，你可以删除几百行的代码，用另一种方法对问题进行解决. 

‍

综合考虑所有特性对技术进行评估. 例如，我一直看好Elixir. 它有精彩的语法，很棒的社区和光明的未来. 但是它太新了，以至于如果你想要实现这么多复杂的功能，你很难找到相应的技术. 而所有这些因素，你都是需要考虑的. 

‍

学会说“不知道”. 作为一个开发人员，没有什么比不承认你的不知道更节约时间的了. 

‍

学会分析错误提示中的线索. 传统教育告诉我们失败是耻辱的，而错误提示总与失败相关. 好的程序员知道那些错误提示中总是包含获得正确解决方案的线索. 不要轻视这些错误提示. 

‍

了解早期优化和必要时候停止优化之间的区别. 好的程序员知道什么时候去优化、如何去优化，才能写出一些看似奇怪但是实际上能让结果运算更快的代码. 

‍

多与有经验的人相处. 没有什么能比这种方式更快的提高你的编程水平了，你不仅需要从他们身上学习硬技能，还需要从他们那里学会如何提升自己的软技能. 

对错误负责. 错误总会发生，特别是以一个团队的方式进行工作的时候. 这时候，互相责怪就是一件十分浪费时间的事情，因为错误背后总是有多方的因素. 

不要在意工作的时间. 对于那些停不下来的程序员来说，他们经常花费很多时间在更深层次的工作上（与那些浅尝则止的工作相对），而且他们明白，计较花了多少时间工作其实是没有意义的

淡定地接受责难. 当你的代码被毁了，你要学会给出理性、具有逻辑的反应. 

‍

‍

重视代码检查. 在Github上发出请求之前，你应该先检查下代码，并将其分开，就如同这个代码是别人写的一样. 

认识到一个优秀程序员不是只需要精于编写代码，还需要一些别的素质，比如销售，营销，客户支持，质量保证和产品管理等，这些都将花费大量时间去学习. 

了解并解决更大的问题. 最好的程序员总是不会局限于眼前的问题. 他们乐于寻找一种解决的方式，不但能实现对眼前问题的解决，还能实现长期问题的解决. 

深入研究一些大型的开放源码，并应用于实际工作中. 

在合适的时候进行回馈. 当你达到一定的水准时，你就应该花一些时间去帮助新人，就像你导师曾经带你的那样. 

能够写那些看起来不怎么样的代码. 很多时候，成为一个查漏补缺型的程序员也是不错的. 随着时间的推移，你更需要知道什么时候可以走捷径，什么时候必须好好做. 这是最难学会的一项技能. 

‍

让别人知道即使你工作到了很迟，但是你并没有浪费时间. 如果你是最后一个离开办公室的，那么就给别人发送一份包含你最新进展的邮件. 人们一般会注意到邮件的时间戳的

‍

多去参加团队活动. 从长期来看，和其他开发人员建立良好的关系（或其他职位的人）将会比长期处在自我局限中更有价值. 

在压力下学习. 当整体情况开始恶化的时候，即使你不知道具体应该怎么做，你也要试着学会如何去掌控情况并有责任将其恢复. 

“快速前进，打破常规”. 不要让“完美”成为“不错”的敌人. 错误是在所难免的，但也能给你提供一个不错的学习机会. 所以不要将你犯的错看做是一次失败，而要将其视为一个可以学习的机会. 你要知道，解决错误可以让你更快的成长. 

‍

‍

‍

‍

# 实例

‍

‍
